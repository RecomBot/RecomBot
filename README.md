# ๐๏ธ Travel Recommendation System

ะะตััะพะฝะฐะปะธะทะธัะพะฒะฐะฝะฝะฐั ะดะธะฐะปะพะณะพะฒะฐั ัะธััะตะผะฐ ะดะปั ัะตะบะพะผะตะฝะดะฐัะธะน ะผะตัั ะพัะดััะฐ ะธ ัะฐะทะฒะปะตัะตะฝะธะน ะฝะฐ ะพัะฝะพะฒะต ะฟัะตะดะฟะพััะตะฝะธะน ะฟะพะปัะทะพะฒะฐัะตะปะตะน, ั ะฟะพะดะดะตัะถะบะพะน UGC, ัะตะนัะธะฝะณะพะฒะพะน ัะธััะตะผะพะน ะธ ะธะฝัะตะณัะฐัะธะตะน LLM.


## ๐๏ธ ะััะธัะตะบัััะฐ

```
โโโโโโโโโโโโโโโโโโโ    โโโโโโโโโโโโโโโโโโโ    โโโโโโโโโโโโโโโโโโโ
โ   Telegram Bot  โโโโโบโ   FastAPI API   โโโโโบโ  PostgreSQL DB  โ
โ   (Aiogram 3.x) โ    โ   (Backend)     โ    โ                 โ
โโโโโโโโโโโโโโโโโโโ    โโโโโโโโโโโโโโโโโโโ    โโโโโโโโโโโโโโโโโโโ
         โ                       โ                       โ
         โผ                       โผ                       โผ
โโโโโโโโโโโโโโโโโโโ    โโโโโโโโโโโโโโโโโโโ    โโโโโโโโโโโโโโโโโโโ
โ   ะะพะปัะทะพะฒะฐัะตะปะธ  โ    โ  LLM Service  โ      โ  ะะฐััะตั ะดะฐะฝะฝัั  โ
โ    Telegram     โ    โ  (Ollama Clo    โ    โ   (Selenium)    โ
โโโโโโโโโโโโโโโโโโโ    โโโโโโโโโโโโโโโโโโโ    โโโโโโโโโโโโโโโโโโโ
                            
                      
```

### ะะพะผะฟะพะฝะตะฝัั ัะธััะตะผั

1. **Telegram Bot** (`GidRecBot/`) - ะะฝัะตััะตะนั ะดะปั ะฟะพะปัะทะพะฒะฐัะตะปะตะน
2. **Backend API** (`backend/`) - ะะธะทะฝะตั-ะปะพะณะธะบะฐ ะธ REST API
3. **ะะฐััะตั** (`parser/`) - ะกะฑะพั ะดะฐะฝะฝัั ะธะท ะฒะฝะตัะฝะธั ะธััะพัะฝะธะบะพะฒ
4. **ะะฐะทะฐ ะดะฐะฝะฝัั** - PostgreSQL ะดะปั ััะฐะฝะตะฝะธั ะดะฐะฝะฝัั
5. **ะัั** - Redis ะดะปั ะบััะธัะพะฒะฐะฝะธั ะธ ัะตััะธะน
6. **LLM Service** - Ollama Cloud ะดะปั NLP ะธ ัะตะบะพะผะตะฝะดะฐัะธะน

## โจ ะคัะฝะบัะธะพะฝะฐะปัะฝะพััั

### ๐ค ะะปั ะฟะพะปัะทะพะฒะฐัะตะปะตะน:
- **ะะตััะพะฝะฐะปะธะทะธัะพะฒะฐะฝะฝัะต ัะตะบะพะผะตะฝะดะฐัะธะธ** ะฝะฐ ะพัะฝะพะฒะต ะฟัะตะดะฟะพััะตะฝะธะน
- **ะััะตััะฒะตะฝะฝัะน ะดะธะฐะปะพะณ** ั LLM-ะฐััะธััะตะฝัะพะผ
- **ะัะทัะฒั ะธ ัะตะนัะธะฝะณะธ** ะผะตัั
- **ะะพะธัะบ** ะฟะพ ะบะฐัะตะณะพัะธัะผ, ะณะพัะพะดั, ัะตะนัะธะฝะณั
- **ะะฐะณะธะฝะฐัะธั** ัะตะทัะปััะฐัะพะฒ
- **ะะตะพะปะพะบะฐัะธั** ะฟะพ ะณะพัะพะดะฐะผ

### ๐๏ธ ะะปั ะฐะดะผะธะฝะธัััะฐัะพัะพะฒ/ะผะพะดะตัะฐัะพัะพะฒ:
- **ะะพะดะตัะฐัะธั ะพัะทัะฒะพะฒ** ัะตัะตะท LLM ะธ ัััะฝัั ะฟัะพะฒะตัะบั
- **ะฃะฟัะฐะฒะปะตะฝะธะต ะบะพะฝัะตะฝัะพะผ** (ะผะตััะฐ, ะบะฐัะตะณะพัะธะธ)
- **ะกัะฐัะธััะธะบะฐ** ะธัะฟะพะปัะทะพะฒะฐะฝะธั
- **ะะพะปะตะฒะฐั ะผะพะดะตะปั** (user/moderator/admin)

### ๐ง ะขะตัะฝะธัะตัะบะธะต ะฒะพะทะผะพะถะฝะพััะธ:
- **ะะฒัะพะฟะฐััะธะฝะณ** ะดะฐะฝะฝัั ะธะท ะฏะฝะดะตะบั.ะัะธัะธ
- **ะััะธัะพะฒะฐะฝะธะต** ะฟะพะฟัะปััะฝัั ะทะฐะฟัะพัะพะฒ
- **ะัะธะฝััะพะฝะฝะฐั ะฐััะธัะตะบัััะฐ**
- **ะะพะฝัะตะนะฝะตัะธะทะฐัะธั** (Docker)
- **ะะฐัััะฐะฑะธััะตะผะพััั** ะผะธะบัะพัะตัะฒะธัะพะฒ

## ๐๏ธ ะขะตัะฝะพะปะพะณะธัะตัะบะธะน ััะตะบ

### Backend
- **Python 3.11** - ะพัะฝะพะฒะฝะพะน ัะทัะบ
- **FastAPI** - ะฒะตะฑ-ััะตะนะผะฒะพัะบ
- **SQLAlchemy 2.0** - ORM
- **PostgreSQL** - ะพัะฝะพะฒะฝะฐั ะะ
- **Redis** - ะบััะธัะพะฒะฐะฝะธะต
- **Alembic** - ะผะธะณัะฐัะธะธ ะะ

### Telegram Bot
- **Aiogram 3.x** - ะฐัะธะฝััะพะฝะฝัะน ััะตะนะผะฒะพัะบ ะดะปั Telegram
- **FSM (Finite State Machine)** - ัะฟัะฐะฒะปะตะฝะธะต ัะพััะพัะฝะธัะผะธ ะดะธะฐะปะพะณะฐ

### AI/ML
- **Ollama Cloud** - LLM ัะตัะฒะธั
- **Qwen3-coder** - ะผะพะดะตะปั ะดะปั ะณะตะฝะตัะฐัะธะธ ัะตะบะพะผะตะฝะดะฐัะธะน

### ะะฐััะธะฝะณ
- **Selenium** - ะฐะฒัะพะผะฐัะธะทะฐัะธั ะฑัะฐัะทะตัะฐ
- **BeautifulSoup** - ะฟะฐััะธะฝะณ HTML (ะฐะปััะตัะฝะฐัะธะฒะฐ)

### ะะฝััะฐััััะบัััะฐ
- **Docker & Docker Compose** - ะบะพะฝัะตะนะฝะตัะธะทะฐัะธั
- **Adminer** - ะฒะตะฑ-ะธะฝัะตััะตะนั ะดะปั ะะ
- **Redis Commander** - ะฒะตะฑ-ะธะฝัะตััะตะนั ะดะปั Redis

## ๐ ะัััััะน ััะฐัั

### ะัะตะดะฒะฐัะธัะตะปัะฝัะต ััะตะฑะพะฒะฐะฝะธั
- Docker & Docker Compose
- Python 3.11+ (ะดะปั ะปะพะบะฐะปัะฝะพะน ัะฐะทัะฐะฑะพัะบะธ)
- Telegram Bot Token ะพั [@BotFather](https://t.me/BotFather)
- Ollama Cloud API ะบะปัั (ะพะฟัะธะพะฝะฐะปัะฝะพ)

### ะจะฐะณ 1: ะะปะพะฝะธัะพะฒะฐะฝะธะต ะธ ะฝะฐัััะพะนะบะฐ
```bash
# ะะปะพะฝะธัะพะฒะฐัั ัะตะฟะพะทะธัะพัะธะน
git clone <repository-url>
cd RecomBot

# ะกะบะพะฟะธัะพะฒะฐัั ะบะพะฝัะธะณััะฐัะธะพะฝะฝัะน ัะฐะนะป
cp .env.example .env

# ะััะตะดะฐะบัะธัะพะฒะฐัั .env ัะฐะนะป
nano .env
```

### ะจะฐะณ 2: ะะฐัััะพะนะบะฐ .env ัะฐะนะปะฐ
```env
# ะะธะฝะธะผะฐะปัะฝะฐั ะบะพะฝัะธะณััะฐัะธั
BOT_TOKEN=ะฒะฐั_telegram_bot_token
DATABASE_URL=postgresql+asyncpg://postgres:postgres@postgres:5432/travel_db

# ะะปั LLM   
OLLAMA_API_KEY=ะฒะฐั_ollama_api_key
OLLAMA_BASE_URL=https://ollama.com
OLLAMA_MODEL=qwen3-coder:480b-cloud

# Redis
REDIS_URL=redis://redis:6379/0
```

### ะจะฐะณ 3: ะะฐะฟััะบ ัะตัะตะท Docker Compose
```bash
# ะกะพะฑัะฐัั ะธ ะทะฐะฟัััะธัั ะฒัะต ัะตัะฒะธัั
make build
make up

# ะะปะธ ะฝะฐะฟััะผัั
docker-compose up -d --build
```

### ะจะฐะณ 4: ะัะพะฒะตัะบะฐ ัะฐะฑะพัะพัะฟะพัะพะฑะฝะพััะธ
```bash
# ะัะพะฒะตัะธัั ััะฐััั ะบะพะฝัะตะนะฝะตัะพะฒ
make ps

# ะัะพะฒะตัะธัั ะทะดะพัะพะฒัะต ัะธััะตะผั
make health

# ะัะบัััั ะดะพะบัะผะตะฝัะฐัะธั API
# http://localhost:8000/docs

# ะัะบัััั Adminer (ะฒะตะฑ-ะธะฝัะตััะตะนั ะะ)
# http://localhost:8080
# ะกะตัะฒะตั: postgres, ะะ: travel_db, ะะพะปัะทะพะฒะฐัะตะปั: postgres, ะะฐัะพะปั: postgres

# ะัะบัััั Redis Commander
# http://localhost:8081
```

### ะจะฐะณ 5: ะะฐะฟััะบ ะฟะฐััะตัะฐ (ะดะปั ะทะฐะฟะพะปะฝะตะฝะธั ะะ)
```bash
# ะะฐะฟัััะธัั ะฟะฐััะตั ะดะปั ะะพัะบะฒั
make parser

# ะะปะธ ะดะปั ะดััะณะพะณะพ ะณะพัะพะดะฐ
make parser-city city="Saint Petersburg"
```

### ะจะฐะณ 6: ะขะตััะธัะพะฒะฐะฝะธะต Telegram ะฑะพัะฐ
1. ะะฐะนะดะธัะต ะฒะฐัะตะณะพ ะฑะพัะฐ ะฒ Telegram ะฟะพ username
2. ะัะฟัะฐะฒััะต ะบะพะผะฐะฝะดั `/start`
3. ะัะฑะตัะธัะต ะณะพัะพะด
4. ะะฐะฟะธัะธัะต ะทะฐะฟัะพั, ะฝะฐะฟัะธะผะตั: "ัะพัั ะฒ ะบะฐัะต" ะธะปะธ "ะธัั ะบะพะฝัะตัั"

## โ๏ธ ะะตัะฐะปัะฝะฐั ะฝะฐัััะพะนะบะฐ

### ะะพะฝัะธะณััะฐัะธั ัะตัะตะท ะฟะตัะตะผะตะฝะฝัะต ะพะบััะถะตะฝะธั

#### ะะฑัะทะฐัะตะปัะฝัะต ะฟะตัะตะผะตะฝะฝัะต
```env
BOT_TOKEN=ะฒะฐั_telegram_bot_token
DATABASE_URL=postgresql+asyncpg://postgres:postgres@postgres:5432/travel_db
```

#### LLM ะฝะฐัััะพะนะบะธ
```env
# Ollama Cloud
OLLAMA_API_KEY=ollama_sk_xxx
OLLAMA_BASE_URL=https://ollama.com
OLLAMA_MODEL=qwen3-coder:480b-cloud

# ะะปััะตัะฝะฐัะธะฒะฝัะต ะผะพะดะตะปะธ:
# OLLAMA_MODEL=llama3.2:latest
# OLLAMA_MODEL=mixtral:8x7b
```

#### ะะฐัััะพะนะบะธ ะฟะฐััะตัะฐ
```env
PARSE_CITY=Moscow
MAX_PAGES_PER_CATEGORY=3
REQUEST_DELAY=2.0
LOG_LEVEL=INFO
```

#### ะะฐัััะพะนะบะธ ัะฐะทัะฐะฑะพัะบะธ
```env
DEBUG=true
RELOAD=true  # Hot-reload ะดะปั ะฑัะบะตะฝะดะฐ
```

### ะััะฝะฐั ัััะฐะฝะพะฒะบะฐ (ะฑะตะท Docker)

#### 1. ะฃััะฐะฝะพะฒะบะฐ ะทะฐะฒะธัะธะผะพััะตะน
```bash
# Backend
cd backend
pip install -r requirements.txt

# Bot
cd ../GidRecBot
pip install -r requirements.txt

# Parser
cd ../parser
pip install -r requirements.txt
```

#### 2. ะะฐัััะพะนะบะฐ ะะ
```bash
# ะกะพะทะดะฐะฝะธะต ะะ
createdb travel_db

# ะะฝะธัะธะฐะปะธะทะฐัะธั ัะฐะฑะปะธั
cd backend
python -c "from src.database import create_tables; import asyncio; asyncio.run(create_tables())"
```

#### 3. ะะฐะฟััะบ ัะตัะฒะธัะพะฒ
```bash
# Terminal 1: Backend
cd backend
uvicorn src.main:app --reload --host 0.0.0.0 --port 8000

# Terminal 2: Bot
cd GidRecBot
python -m bot

# Terminal 3: Redis
redis-server

# Terminal 4: ะะฐััะตั (ะพะฟัะธะพะฝะฐะปัะฝะพ)
cd parser
python parser.py
```

## ๐ API ะะพะบัะผะตะฝัะฐัะธั

### ะัะฝะพะฒะฝัะต ัะฝะดะฟะพะธะฝัั

#### Health Check
```http
GET /health
```
**ะัะฒะตั:**
```json
{
  "status": "healthy",
  "timestamp": "2025-12-26T17:16:20.176557",
  "database": "connected",
  "service": "travel-recommendation-api",
  "version": "1.0.0"
}
```

#### LLM Status
```http
GET /llm-status
```

#### ะััะตะฝัะธัะธะบะฐัะธั
```http
POST /api/v1/auth/
```
**ะขะตะปะพ ะทะฐะฟัะพัะฐ:**
```json
{
  "telegram_id": 123456789,
  "location": "Moscow",
  "username": "username"
}
```

#### ะะตััะฐ
```http
GET /api/v1/places/
```
**ะะฐัะฐะผะตััั:**
- `category` (ะพะฟัะธะพะฝะฐะปัะฝะพ) - ัะธะปััั ะฟะพ ะบะฐัะตะณะพัะธะธ
- `city` (ะพะฟัะธะพะฝะฐะปัะฝะพ) - ัะธะปััั ะฟะพ ะณะพัะพะดั
- `min_rating` (ะพะฟัะธะพะฝะฐะปัะฝะพ) - ะผะธะฝะธะผะฐะปัะฝัะน ัะตะนัะธะฝะณ
- `limit` (ะฟะพ ัะผะพะปัะฐะฝะธั: 20) - ะบะพะปะธัะตััะฒะพ ัะตะทัะปััะฐัะพะฒ

#### ะัะทัะฒั
```http
POST /api/v1/reviews/
```
**ะขะตะปะพ ะทะฐะฟัะพัะฐ:**
```json
{
  "place_id": "uuid",
  "rating": 5,
  "text": "ะัะปะธัะฝะพะต ะผะตััะพ!",
  "telegram_id": 123456789
}
```

#### ะะตะบะพะผะตะฝะดะฐัะธะธ
```http
POST /api/v1/recommendations/chat
```
**ะขะตะปะพ ะทะฐะฟัะพัะฐ:**
```json
{
  "query": "ะธัั ะบะฐัะต ะฒ ัะตะฝััะต",
  "telegram_id": 123456789,
  "limit": 5
}
```

### ะะพะปะฝะฐั ะดะพะบัะผะตะฝัะฐัะธั
ะัะบัะพะนัะต Swagger UI: http://localhost:8000/docs  
ะะปะธ ReDoc: http://localhost:8000/redoc

## ๐ ะกัััะบัััะฐ ะฟัะพะตะบัะฐ

```
RecomBot/
โโโ .env                    # ะะพะฝัะธะณััะฐัะธั (ะฝะต ะฒ ัะตะฟะพะทะธัะพัะธะธ)
โโโ .env.example           # ะจะฐะฑะปะพะฝ ะบะพะฝัะธะณััะฐัะธะธ
โโโ docker-compose.yml     # Docker Compose ะบะพะฝัะธะณััะฐัะธั
โโโ Makefile              # ะะพะผะฐะฝะดั ะดะปั ัะฐะทัะฐะฑะพัะบะธ
โ
โโโ backend/              # FastAPI ะฑัะบะตะฝะด
โ   โโโ src/
โ   โ   โโโ main.py      # ะขะพัะบะฐ ะฒัะพะดะฐ
โ   โ   โโโ database.py  # ะะฐัััะพะนะบะฐ ะะ
โ   โ   โโโ models/      # SQLAlchemy ะผะพะดะตะปะธ
โ   โ   โโโ schemas/     # Pydantic ััะตะผั
โ   โ   โโโ routers/     # API ัะพััะตัั
โ   โ   โโโ services/    # ะะธะทะฝะตั-ะปะพะณะธะบะฐ
โ   โโโ Dockerfile
โ   โโโ requirements.txt
โ
โโโ GidRecBot/            # Telegram ะฑะพั
โ   โโโ bot/
โ   โ   โโโ __main__.py  # ะขะพัะบะฐ ะฒัะพะดะฐ
โ   โ   โโโ bot.py       # ะะฝะธัะธะฐะปะธะทะฐัะธั ะฑะพัะฐ
โ   โ   โโโ handlers/    # ะะฑัะฐะฑะพััะธะบะธ ะบะพะผะฐะฝะด
โ   โ   โโโ keyboards/   # ะะปะฐะฒะธะฐัััั
โ   โ   โโโ middlewares/ # Middleware
โ   โ   โโโ states/      # FSM ัะพััะพัะฝะธั
โ   โ   โโโ utils/       # ะฃัะธะปะธัั (HTTP ะบะปะธะตะฝั)
โ   โโโ Dockerfile.bot
โ   โโโ requirements.txt
โ
โโโ parser/               # ะะฐััะตั ะดะฐะฝะฝัั
โ   โโโ parser.py        # ะัะฝะพะฒะฝะพะน ัะบัะธะฟั
โ   โโโ config.py        # ะะพะฝัะธะณััะฐัะธั
โ   โโโ models.py        # ะะพะดะตะปะธ ะดะปั ะะ
โ   โโโ utils.py         # ะัะฟะพะผะพะณะฐัะตะปัะฝัะต ััะฝะบัะธะธ
โ   โโโ Dockerfile
โ   โโโ requirements.txt
โ
โโโ shared/              # ะะฑัะธะน ะบะพะด
    โโโ config.py        # ะะดะธะฝะฐั ะบะพะฝัะธะณััะฐัะธั
    โโโ models/          # ะะฑัะธะต ะผะพะดะตะปะธ ะะ
```

## ๐๏ธ ะะฐะทัะฐะฑะพัะบะฐ

### ะะพะผะฐะฝะดั Makefile
```bash
# ะัะฝะพะฒะฝัะต ะบะพะผะฐะฝะดั
make build      # ะกะพะฑัะฐัั ะฒัะต ะพะฑัะฐะทั
make up        # ะะฐะฟัััะธัั ะฒัะต ัะตัะฒะธัั
make down      # ะััะฐะฝะพะฒะธัั ะฒัะต ัะตัะฒะธัั
make logs      # ะะพะบะฐะทะฐัั ะปะพะณะธ ะฒัะตั ัะตัะฒะธัะพะฒ
make ps        # ะะพะบะฐะทะฐัั ััะฐััั ะบะพะฝัะตะนะฝะตัะพะฒ

# ะัะดะตะปัะฝัะต ัะตัะฒะธัั
make logs-backend   # ะะพะณะธ ะฑัะบะตะฝะดะฐ
make logs-bot       # ะะพะณะธ ะฑะพัะฐ
make logs-parser    # ะะพะณะธ ะฟะฐััะตัะฐ

# ะะฐะทัะฐะฑะพัะบะฐ
make init       # ะะฝะธัะธะฐะปะธะทะธัะพะฒะฐัั ะะ
make parser     # ะะฐะฟัััะธัั ะฟะฐััะตั
make shell-db   # ะะพะดะบะปััะธัััั ะบ ะะ
make health     # ะัะพะฒะตัะธัั ะทะดะพัะพะฒัะต ัะธััะตะผั

# ะัะธััะบะฐ
make clean      # ะัะธััะธัั ะฒัั (ะบะพะฝัะตะนะฝะตัั, ัะพะผะฐ, ะพะฑัะฐะทั)
```


## ะขะตััะธัะพะฒะฐะฝะธะต ะฒัััะฝัั

#### 1. ะัะพะฒะตัะบะฐ API
```bash
# Health check
curl http://localhost:8000/health | jq

# ะกะพะทะดะฐะฝะธะต ัะตััะพะฒะพะณะพ ะฟะพะปัะทะพะฒะฐัะตะปั
curl -X POST http://localhost:8000/api/v1/auth/ \
  -H "Content-Type: application/json" \
  -d '{"telegram_id": 999999999, "location": "Moscow"}'

# ะะพะปััะตะฝะธะต ะผะตัั
curl "http://localhost:8000/api/v1/places/?city=Moscow&limit=3"
```

#### 2. ะัะพะฒะตัะบะฐ ะะ
```sql
-- ะะพะดะบะปััะธัััั ะบ ะะ
docker-compose exec postgres psql -U postgres -d travel_db

-- ะัะพะฒะตัะธัั ะดะฐะฝะฝัะต
SELECT COUNT(*) as users FROM users;
SELECT COUNT(*) as places FROM places;
SELECT COUNT(*) as reviews FROM reviews;

-- ะัะธะผะตัะฝัะต ะทะฐะฟัะพัั
SELECT name, category, rating FROM places ORDER BY rating DESC LIMIT 5;
SELECT u.username, r.rating, r.text FROM reviews r JOIN users u ON r.user_id = u.id LIMIT 5;
```

#### 3. ะขะตััะธัะพะฒะฐะฝะธะต ะฑะพัะฐ
1. ะะฐะนะดะธัะต ะฑะพัะฐ ะฒ Telegram
2. ะัะฟัะฐะฒััะต `/start`
3. ะัะฑะตัะธัะต ะณะพัะพะด
4. ะขะตััะธััะนัะต:
   - ะะพะธัะบ: "ะบะฐัะต", "ะฟะฐัะบ", "ะผัะทะตะน"
   - ะัะทัะฒั: ะฝะฐะถะผะธัะต "โ๏ธ ะััะฐะฒะธัั ะพัะทัะฒ"
   - ะะฐะณะธะฝะฐัะธั: ะบะฝะพะฟะบะธ "โก๏ธ ะัั"
   - ะัะพัะธะปั: ะบะพะผะฐะฝะดะฐ `/me`

## ๐ ะะพะฝะธัะพัะธะฝะณ ะธ ะปะพะณะธ

### ะะพะณะธัะพะฒะฐะฝะธะต
```bash
# ะัะพัะผะพัั ะปะพะณะพะฒ ะฒ ัะตะฐะปัะฝะพะผ ะฒัะตะผะตะฝะธ
make logs

# ะะพะณะธ ะบะพะฝะบัะตัะฝะพะณะพ ัะตัะฒะธัะฐ
docker-compose logs -f backend
docker-compose logs -f bot

# ะะพะณะธ ะฒ ัะฐะนะป
docker-compose logs --tail=1000 > logs.txt
```

## ๐ ะขัะตะฑะพะฒะฐะฝะธั ะบ ะบัััะพะฒะพะผั ะฟัะพะตะบัั

- [x] ะะธะฐะปะพะณะพะฒะฐั ัะธััะตะผะฐ (ัะฐั-ะฑะพั) ั ะฟะตััะพะฝะฐะปะธะทะธัะพะฒะฐะฝะฝัะผะธ ัะตะบะพะผะตะฝะดะฐัะธัะผะธ
- [x] ะะพะดะดะตัะถะบะฐ ะฟะพะปัะทะพะฒะฐัะตะปััะบะพะณะพ ะบะพะฝัะตะฝัะฐ (UGC) - ะพัะทัะฒั ะธ ัะตะนัะธะฝะณะธ
- [x] ะะฝัะตะณัะฐัะธั LLM ะดะปั ะตััะตััะฒะตะฝะฝะพะณะพ ะดะธะฐะปะพะณะฐ ะธ ััะผะผะฐัะธะทะฐัะธะธ ะพัะทัะฒะพะฒ
- [x] ะะพะปะตะฒะฐั ะผะพะดะตะปั ะดะพัััะฟะฐ (user/moderator/admin)
- [x] ะกะธััะตะผะฐ ัะตะบะพะผะตะฝะดะฐัะธะน ะฝะฐ ะพัะฝะพะฒะต ะบะฐัะตะณะพัะธะน ะธ ัะตะนัะธะฝะณะพะฒ


### ะงัะพ ะผะพะถะฝะพ ะฟัะพะดะตะผะพะฝัััะธัะพะฒะฐัั:

1. **ะะตะณะธัััะฐัะธั ะฟะพะปัะทะพะฒะฐัะตะปั** ัะตัะตะท `/start`
2. **ะะพะธัะบ ะผะตัั** ะฟะพ ะตััะตััะฒะตะฝะฝะพะผั ัะทัะบั
3. **ะกะธััะตะผะฐ ัะตะบะพะผะตะฝะดะฐัะธะน** ั LLM
4. **ะััะฐะฒะปะตะฝะธะต ะพัะทัะฒะฐ** ั ะผะพะดะตัะฐัะธะตะน
5. **ะะฐะฝะตะปั ะผะพะดะตัะฐัะพัะฐ** ั ะพัะตัะตะดัั ะพัะทัะฒะพะฒ
6. **ะะพะณะธ ัะธััะตะผั** ะฒ ัะตะฐะปัะฝะพะผ ะฒัะตะผะตะฝะธ
7. **ะะพะด ะฟัะพะตะบัะฐ** ั ะบะพะผะผะตะฝัะฐัะธัะผะธ
8. **ะัะธะฝััะพะฝะฝะพััั** - ะพะฑัะฐะฑะพัะบะฐ ะผะฝะพะถะตััะฒะฐ ะทะฐะฟัะพัะพะฒ
9. **ะััะธัะพะฒะฐะฝะธะต** - Redis ะดะปั ััะบะพัะตะฝะธั
10. **LLM ะธะฝัะตะณัะฐัะธั** - ัะผะฝัะต ัะตะบะพะผะตะฝะดะฐัะธะธ
11. **ะะฐััะธะฝะณ ะดะฐะฝะฝัั** - ะฐะฒัะพะผะฐัะธัะตัะบะพะต ะพะฑะฝะพะฒะปะตะฝะธะต ะะ


## ๐ ะฃัััะฐะฝะตะฝะธะต ะฝะตะฟะพะปะฐะดะพะบ

### ะะฐัะฟัะพัััะฐะฝะตะฝะฝัะต ะฟัะพะฑะปะตะผั

#### 1. ะะพั ะฝะต ะทะฐะฟััะบะฐะตััั
```bash
# ะัะพะฒะตัััะต ัะพะบะตะฝ
echo $BOT_TOKEN

# ะัะพะฒะตัััะต ะฟะพะดะบะปััะตะฝะธะต ะบ API
curl http://localhost:8000/health

# ะัะพะฒะตัััะต ะปะพะณะธ
docker-compose logs bot --tail=50
```

#### 2. ะัะธะฑะบะธ ะะ
```bash
# ะัะพะฒะตัััะต ะฟะพะดะบะปััะตะฝะธะต
docker-compose exec postgres pg_isready -U postgres

# ะะตัะตัะพะทะดะฐะนัะต ะะ
docker-compose down -v
docker-compose up -d
```

#### 3. LLM ะฝะตะดะพัััะฟะตะฝ
```bash
# ะัะพะฒะตัััะต ะบะปัั ะธ URL
curl https://ollama.com/api/tags -H "Authorization: Bearer $OLLAMA_API_KEY"

# ะัะฟะพะปัะทัะนัะต fallback ัะตะถะธะผ (ะฒัะตะผะตะฝะฝะพ ะพัะบะปััะธัะต LLM)
# ะ .env: OLLAMA_API_KEY=
```

#### 4. ะะฐััะตั ะฝะต ัะฐะฑะพัะฐะตั
```bash
# ะฃะฑะตะดะธัะตัั, ััะพ ัััะฐะฝะพะฒะปะตะฝ ChromeDriver
docker-compose run --rm parser which chromedriver

# ะัะพะฒะตัััะต ะดะพัััะฟะฝะพััั ะฏะฝะดะตะบั.ะัะธัะธ
curl -I https://afisha.yandex.ru
```


## ๐ ะะฐััะธัะตะฝะธะต ะฟัะพะตะบัะฐ

### ะะพะทะผะพะถะฝัะต ัะปัััะตะฝะธั:

#### 1. ะะพะฟะพะปะฝะธัะตะปัะฝัะต ะธััะพัะฝะธะบะธ ะดะฐะฝะฝัั
- Google Places API
- TripAdvisor
- 2GIS
- KudaGo

#### 2. ะฃะปัััะตะฝะธะต ัะตะบะพะผะตะฝะดะฐัะธะน
- ะะพะปะปะฐะฑะพัะฐัะธะฒะฝะฐั ัะธะปัััะฐัะธั
- Content-based ัะตะบะพะผะตะฝะดะฐัะธะธ
- ะะฐัะธะฝะฝะพะต ะพะฑััะตะฝะธะต ะดะปั ะฟะตััะพะฝะฐะปะธะทะฐัะธะธ

#### 3. ะะพะฟะพะปะฝะธัะตะปัะฝัะต ััะฝะบัะธะธ
- ะะตะพะปะพะบะฐัะธั ะฟะพะปัะทะพะฒะฐัะตะปั
- ะัะพะฝะธัะพะฒะฐะฝะธะต ะผะตัั
- ะะฐะปะตะฝะดะฐัั ัะพะฑััะธะน
- ะกะพัะธะฐะปัะฝัะต ััะฝะบัะธะธ (ะดััะทัั, ะปะฐะนะบะธ)

#### 4. ะะพะฝะตัะธะทะฐัะธั
- ะัะพะดะฒะธะถะตะฝะธะต ะผะตัั
- ะะฐััะฝะตััะบะฐั ะฟัะพะณัะฐะผะผะฐ
- ะัะตะผะธัะผ-ะฟะพะดะฟะธัะบะฐ

#### 5. ะะฐัััะฐะฑะธัะพะฒะฐะฝะธะต
- Kubernetes ะดะปั ะพัะบะตัััะฐัะธะธ
- CDN ะดะปั ะธะทะพะฑัะฐะถะตะฝะธะน
- ะะฐะปะฐะฝัะธัะพะฒัะธะบ ะฝะฐะณััะทะบะธ
